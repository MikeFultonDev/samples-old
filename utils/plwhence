#
# plwhence: find what dataset of the proclib concatenation that a member comes from
# e.g. plwhence IEAVIPCS will print out what dataset the member IEAVIPCS is in
#
#set -x
mem=`(echo $1 | tr '[:lower:]' '[:upper:]')`
ds=`opercmd 'd parmlib' | awk '/ENTRY  FLAGS  VOLUME  DATA SET/ { afterHeader=1; next; } /[ ]+[0-9]+/ { if (afterHeader) { print $4; next } }'`
for d in $ds ; do
	mls ${d} 2>/dev/null | grep -q ${mem}
	if [ $? -eq 0 ]; then
		echo ${d}
		exit 0
	fi
done
exit 1
